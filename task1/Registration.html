
<script type="text/javascript" >
	
function f1()
{

var flag= false;
var actualemail,actualname,actualblood,actualyear,actualmonth,actualdate,actualfile,actualgender,actualdegree,actualblood,actualuserid;

var uname= document.getElementById('name').value;
var username= uname;
if(uname=="")
	{ document.getElementById('dname').innerHTML="name cannot be empty"; flag= false;}
	
else
{username.trim();
var space= username.split(" ");
if(space.length <=1)
{document.getElementById('dname').innerHTML="At Least Two words"; flag= false;}
else{document.getElementById('dname').innerHTML=""; flag= true;
actualname= uname;
}
}

var name= uname.split();

if(!((name[0]>='A' && name[0]<='Z') || (name[0]>='a' && name[0]<='z')))
 	{document.getElementById('dname').innerHTML="must start with a letter"; flag= false;}
else
{
for(var a=1; a<name.length;a++)
{
if(((name[a]>='A'&&name[a]<='Z') ||(name[a]>='a'&&name[a]<='z') || name[a]=='.'|| name[a]=='-' ||(name[a]>=0 && name[a]<=9) ))
	
{  document.getElementById('dname').innerHTML=""; flag= true; 
actualname= uname;
	continue;

}
else
{document.getElementById('dname').innerHTML="invalid character"; flag= false;
break;
}
}
}
 	
var email= document.getElementById('email').value;
if(email=="")
	{ document.getElementById('demail').innerHTML="email cannot be empty"; flag= false;}
var position= email.search("@");
if(position ==-1 || position== 0)
{document.getElementById('demail').innerHTML="invalid email"; flag= false;}
else 
{var position1= email.search(".com");
if(position1<position)
{document.getElementById('demail').innerHTML="invalid email"; flag= false;}
else
{
var valemail= email.split();

if(!((valemail[0]>='A' && valemail[0]<='Z') || (valemail[0]>='a' && valemail[0]<='z')))
 	{document.getElementById('demail').innerHTML="Invalid email"; flag= false;}
else
{
for(var a=1; a<valemail.length;a++)
{
if(((valemail[a]>='A'&&valemail[a]<='Z') ||(valemail[a]>='a'&&valemail[a]<='z') || valemail[a]=='.'|| valemail[a]=='@' ||(valemail[a]>=0 && valemail[a]<=9) ))
	
{ actualemail=email;  
document.getElementById('demail').innerHTML=""; flag= true;;

	continue;

}
else
{document.getElementById('demail').innerHTML="invalid email";  flag= false;;
break;
}
}
}

} }
if(!document.getElementById("1").checked)
{ if(!document.getElementById("2").checked)

{if (!document.getElementById("3").checked)

{document.getElementById('dgender').innerHTML="Choose Atleast one"; flag= false;}

else
{document.getElementById('dgender').innerHTML=""; flag= true; actualgender= document.getElementById("3").value;}


}
else {document.getElementById('dgender').innerHTML=""; flag=true; actualgender= document.getElementById("2").value;}



}
else
{document.getElementById('dgender').innerHTML=""; flag= true; actualgender= document.getElementById("1").value;}


var date= document.getElementById("date").value;
var month= document.getElementById("month").value;
var year= document.getElementById("year").value;
if(date==""|| month=="" || year=="")
{
document.getElementById('divdate').innerHTML="date cannot be empty" ; flag= false;;
}
else{

var intdate=  parseInt(date,10);
	var intmonth= parseInt(month,10);
	var intyear= parseInt(year,10);
	if(!isNaN(intdate) && !isNaN(intmonth) && !isNaN(intyear)) 
{
if(intdate<1 || intdate>31)
	{document.getElementById('divdate').innerHTML="Invalid date"; flag= false;}
	else{document.getElementById('divdate').innerHTML=""; flag= true; actualdate= intdate;}
	if(intmonth<1 || intmonth>12)
	{document.getElementById('divdate').innerHTML="Invalid month"; flag= false; actualmonth= intmonth;}
	else
	{document.getElementById('divdate').innerHTML=""; flag= true; actualyear=intyear;}
if(intyear<1900 || intyear>2016)
	{document.getElementById('divdate').innerHTML="Invalid year"; flag= false;}

	
	else
	{document.getElementById('divdate').innerHTML="";flag=true;}}
	else{document.getElementById('divdate').innerHTML="Invalid number"; flag= false;}
	}
	var blood= document.getElementById("blood");
	if(blood.selectedIndex==0)
	{document.getElementById("dblood").innerHTML="Select one"; flag= false;}
	else{document.getElementById("dblood").innerHTML=""; flag= true; actualblood= blood.value;}
	
	if(!document.getElementById("d1").checked)
{ if(!document.getElementById("d2").checked)

{if (!document.getElementById("d3").checked)

{
if(!document.getElementById("d4").checked)
{
document.getElementById('ddegree').innerHTML="Choose Atleast one"; flag= false;}
else{document.getElementById('ddegree').innerHTML=""; flag= true; actualdegree=document.getElementById("d4").value;}
}
else
{document.getElementById('ddegree').innerHTML="";flag= true; actualdegree=document.getElementById("d3").value;}


}
else {document.getElementById('ddegree').innerHTML=""; flag= true; actualdegree=document.getElementById("d2").value;}



}
else
{document.getElementById('ddegree').innerHTML=""; flag= true; actualdegree=document.getElementById("d1").value;}
var uid= document.getElementById('user').value;

if(uid=="")
	{ document.getElementById('did').innerHTML="userid cannot be empty"; flag= false;}
	else
	{
	if(!isNaN(parseInt(uid,10)))
	{document.getElementById('did').innerHTML=""; flag= true; actualuserid=uid;}
	else
	{document.getElementById('did').innerHTML="userid has to be a positive number"; flag= false;}
	}

var file= document.getElementById('Pp').value;
var ext = file.split('.').pop();
if(ext== "jpg"||ext== "png" || ext== "gif")
{document.getElementById('pic').innerHTML=""; flag= true; actualfile= file;}
else{document.getElementById('pic').innerHTML="Choose a profile picture";flag= false;
}

if(flag==true)
{ alert("validated");
	/*		var xhttp = new XMLHttpRequest();
			xhttp.open("POST", "validate.php?id="+actualname+"|"+actualemail+"|"+actualgender+"|"+actualdate+"|"+actualmonth+"|"+actualyear+"|"+actualdegree+"|"+actualblood+"|"+actualuserid+"|"+actualfile, true);
			xhttp.send();
			
			  xhttp.onreadystatechange = function() {
			    if (this.readyState == 4 && this.status == 200) {
			     	alert(this.responseText);
			     	//document.getElementById('data').innerHTML = this.responseText;
			    }
			  }
			  }*/
}
}


</script>
<fieldset>
    <legend><b>REGISTRATION</b></legend>
    
	<form>
		<br/>
		<table width="100%" cellpadding="0" cellspacing="0">
			<tr>
				<td>Name</td>
				<td>:</td>
				<td><input name="name" type="text" id="name">  <div id="dname"> </div> </td>
				<td> </td>
			</tr>		
			<tr><td colspan="4"><hr/></td></tr>
			<tr>
				<td>Email</td>
				<td>:</td>
				<td>
					<input name="email" type="text" id="email">
					<abbr title="hint: sample@example.com"><b>i</b></abbr>  <div id="demail">  </div>
				</td>
				<td></td>
			</tr>		
			<tr><td colspan="4"><hr/></td></tr>
			<tr>
				<td>User Name</td>
				<td>:</td>
				<td><input name="userName" type="text"></td>
				<td></td>
			</tr>		
			<tr><td colspan="4"><hr/></td></tr>
			<tr>
				<td>Password</td>
				<td>:</td>
				<td><input name="password" type="password"></td>
				<td></td>
			</tr>		
			<tr><td colspan="4"><hr/></td></tr>
			<tr>
				<td>Confirm Password</td>
				<td>:</td>
				<td><input name="confirmPassword" type="password"></td>
				<td></td>
			</tr>		
			<tr><td colspan="4"><hr/></td></tr>
			<tr>
				<td colspan="3">
					<fieldset>
						<legend>Gender</legend>    
						<input name="gender" type="radio" id="1" value="Male">Male
						<input name="gender" type="radio" id="2" value="Female">Female
						<input name="gender" type="radio" id="3" value="Other">Other
						
					</fieldset>
					<div id="dgender"> </div>
				</td>
				<td></td>
			</tr>		
			<tr><td colspan="4"><hr/></td></tr>
			<tr>
				<td colspan="3">
					<fieldset>
						<legend>Date of Birth</legend>    
						<input type="text" size="2" id="date" />/
						<input type="text" size="2" id="month"/>/
						<input type="text" size="4" id="year"/>
						<font size="2"><i>(dd/mm/yyyy)</i></font><div id="divdate"> </div>
					</fieldset>
				</td>
				<td> </td>
			</tr>
			</tr>
			<tr>
			<td colspan="4"><hr/></td></tr>
			<tr>
					<td colspan="3"> <fieldset>
					<legend> Blood Group </legend>
					<select id="blood">
						<option value=""></option>
						<option value="a+">A+</option>
						<option value="a-">A-</option>
						<option value="ab+">AB+</option>
						<option value="ab-">AB-</option>
						<option value="b+">B+</option>
						<option value="b-">B-</option>
						<option value="o+">O+</option>
						<option value="o-">O-</option>
					</select> <div id="dblood"> </div>
					</fieldset></td>
					
				</td>
				<td></td>
			</tr>
			<tr><td colspan="4"><hr/></td></tr>
			<tr>
				<td colspan="3"> <fieldset>
					<legend> Degree </legend>
				<input type="checkbox" name="degree1" value="SSC" id="d1"> SSC
				<input type="checkbox" name="degree2" value="HSC" id="d2"> HSC
				<input type="checkbox" name="degree3" value="B.Sc" id="d3"> B.Sc
				<input type="checkbox" name="degree3" value="M.Sc" id="d4"> M.Sc
				<div id="ddegree"> </div>
				</fieldset>
				</td>
				<td></td>
			</tr>
			<tr><td colspan="4"><hr/></td></tr>
			<tr>
				<td colspan= "3"><fieldset>
					<legend> Profile Pic  </legend>
					User Id<input type="text"  name= "userid" id="user"><br> <div id="did"> </div>
					Picture <input type="file" name="picture" id="Pp">  <div id="pic"> </div> </fieldset></td>
				<td></td>
			</tr>
			
		</table>
		<hr/>
		<input type="button" value="Submit" onclick="f1()">
		<input type="reset">
	</form>
</fieldset>